# Keyword Generator Web App

A Streamlit web application that generates keyword ideas from Google Ads API and categorizes them using GPT-5.2 for blog post optimization.

## Features

- Paste blog content and generate keyword ideas from Google Ads Keyword Planner
- Export keyword ideas as CSV
- Automatically categorize keywords using GPT-5.2 with SEO-focused analysis
- Generate Focus Keyphrase, SEO Title, and SEO Excerpt

## Setup

### Prerequisites

- Python 3.8 or higher
- Google Ads API access (developer token, OAuth credentials)
- OpenAI API key

### Installation

1. Clone this repository or navigate to the project directory.

2. Create a virtual environment (recommended):
```powershell
python -m venv .venv
.venv\Scripts\Activate.ps1
```

3. Install dependencies:
```powershell
pip install -r requirements.txt
```

4. Set up environment variables:
   - Copy `.env.example` to `.env`
   - Fill in your API keys and Google Ads credentials
   
   **Setting up Google Ads API credentials:**
   
   a. **Get Client ID and Client Secret:**
      - Go to [Google Cloud Console](https://console.cloud.google.com/)
      - Navigate to **APIs & Services > Credentials**
      - Click **Create Credentials > OAuth client ID**
      - Choose **Web application** as the application type
      - Set **Authorized redirect URI** to: `http://127.0.0.1:8080/oauth2callback`
      - Save your **Client ID** and **Client Secret**
   
   b. **Get Developer Token:**
      - Go to [Google Ads](https://ads.google.com/)
      - Navigate to **Tools & Settings > API Center**
      - Apply for a developer token (may take 24-48 hours for approval)
   
   c. **Get Refresh Token:**
      - Add your Client ID and Client Secret to `.env`:
        ```
        GOOGLE_ADS_CLIENT_ID=your_client_id_here
        GOOGLE_ADS_CLIENT_SECRET=your_client_secret_here
        ```
      - Run the helper script:
        ```powershell
        python get_refresh_token.py
        ```
      - The script will open your browser for authorization
      - After authorizing, it will automatically save your refresh token to `.env`
   
   d. **Add your Customer ID:**
      - Your Google Ads Customer ID (format: XXX-XXX-XXXX) can be found in your Google Ads account
      - Add it to `.env`:
        ```
        GOOGLE_ADS_CUSTOMER_ID=XXX-XXX-XXXX
        ```

### Verify Setup

Before running the app, verify your configuration:
```powershell
python test_setup.py
```

This will check:
- All environment variables are set
- All dependencies are installed
- Google Ads API connection works
- OpenAI API connection works

### Running the App

Activate your virtual environment and run:
```powershell
.venv\Scripts\Activate.ps1
streamlit run app.py
```

The app will open in your default web browser at `http://localhost:8501`.

## Usage

1. Paste your blog content into the text area
2. Review targeting settings (defaults: English, Google Search, multiple countries)
3. Click "Generate Keywords" to fetch keyword ideas from Google Ads
4. Download the CSV file with keyword data
5. View the categorized keywords and SEO metadata generated by GPT-5.2
6. Download the JSON results if needed

## Configuration

The app uses `www.bewajihealth.com` as the default website seed for keyword generation. This can be modified in the code if needed.

**Note:** Google Ads API limits geo target constants to **10 per request**. The app will automatically use the first 10 resolved geo targets. If you need keywords for more countries, you can run the app multiple times with different country lists, or modify the code to make multiple API calls.

## Environment Variables

See `.env.example` for required environment variables.

